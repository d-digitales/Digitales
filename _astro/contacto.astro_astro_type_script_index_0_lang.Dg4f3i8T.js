const M=history.pushState.bind(history),v=history.replaceState.bind(history),S=e=>{history.state&&(history.scrollRestoration="manual",v({...history.state,...e},""))},q=!!document.startViewTransition,x=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),N=(e,t)=>e.pathname===t.pathname&&e.search===t.search;let m,p,L;const C=e=>document.dispatchEvent(new Event(e)),O=()=>C("astro:page-load"),B=()=>{let e=document.createElement("div");e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),e.className="astro-route-announcer",document.body.append(e),setTimeout(()=>{let t=document.title||document.querySelector("h1")?.textContent||location.pathname;e.textContent=t},60)},k="data-astro-transition-persist",R="data-astro-transition",A="data-astro-transition-fallback";let I,g=0;history.state?(g=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):x()&&(v({index:g,scrollX,scrollY},""),history.scrollRestoration="manual");async function H(e,t){try{const n=await fetch(e,t),s=(n.headers.get("content-type")??"").split(";",1)[0].trim();return s!=="text/html"&&s!=="application/xhtml+xml"?null:{html:await n.text(),redirected:n.redirected?n.url:void 0,mediaType:s}}catch{return null}}function F(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function _(){let e=Promise.resolve();for(const t of document.getElementsByTagName("script")){if(t.dataset.astroExec==="")continue;const n=t.getAttribute("type");if(n&&n!=="module"&&n!=="text/javascript")continue;const o=document.createElement("script");o.innerHTML=t.innerHTML;for(const s of t.attributes){if(s.name==="src"){const r=new Promise(a=>{o.onload=o.onerror=a});e=e.then(()=>r)}o.setAttribute(s.name,s.value)}o.dataset.astroExec="",t.replaceWith(o)}return e}const X=(e,t,n,o,s)=>{const r=N(t,e),a=document.title;document.title=o;let i=!1;if(e.href!==location.href&&!s)if(n.history==="replace"){const l=history.state;v({...n.state,index:l.index,scrollX:l.scrollX,scrollY:l.scrollY},"",e.href)}else M({...n.state,index:++g,scrollX:0,scrollY:0},"",e.href);if(document.title=a,L=e,r||(scrollTo({left:0,top:0,behavior:"instant"}),i=!0),s)scrollTo(s.scrollX,s.scrollY);else{if(e.hash){history.scrollRestoration="auto";const l=history.state;location.href=e.href,history.state||(v(l,""),r&&window.dispatchEvent(new PopStateEvent("popstate")))}else i||scrollTo({left:0,top:0,behavior:"instant"});history.scrollRestoration="manual"}};function $(e){const t=[];for(const n of e.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${k}="${n.getAttribute(k)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const o=document.createElement("link");o.setAttribute("rel","preload"),o.setAttribute("as","style"),o.setAttribute("href",n.getAttribute("href")),t.push(new Promise(s=>{["load","error"].forEach(r=>o.addEventListener(r,s)),document.head.append(o)}))}return t}async function P(e,t,n,o,s){async function r(l){function u(h){const f=h.effect;return!f||!(f instanceof KeyframeEffect)||!f.target?!1:window.getComputedStyle(f.target,f.pseudoElement).animationIterationCount==="infinite"}const d=document.getAnimations();document.documentElement.setAttribute(A,l);const y=document.getAnimations().filter(h=>!d.includes(h)&&!u(h));return Promise.allSettled(y.map(h=>h.finished))}if(s==="animate"&&!n.transitionSkipped&&!e.signal.aborted)try{await r("old")}catch{}const a=document.title,i=ue(e,n.viewTransition);X(i.to,i.from,t,a,o),C(re),s==="animate"&&(!n.transitionSkipped&&!i.signal.aborted?r("new").finally(()=>n.viewTransitionFinished()):n.viewTransitionFinished())}function W(){return m?.controller.abort(),m={controller:new AbortController}}async function j(e,t,n,o,s){const r=W();if(!x()||location.origin!==n.origin){r===m&&(m=void 0),location.href=n.href;return}const a=s?"traverse":o.history==="replace"?"replace":"push";if(a!=="traverse"&&S({scrollX,scrollY}),N(t,n)&&(e!=="back"&&n.hash||e==="back"&&t.hash)){X(n,t,o,document.title,s),r===m&&(m=void 0);return}const i=await le(t,n,e,a,o.sourceElement,o.info,r.controller.signal,o.formData,l);if(i.defaultPrevented||i.signal.aborted){r===m&&(m=void 0),i.signal.aborted||(location.href=n.href);return}async function l(c){const y=c.to.href,h={signal:c.signal};if(c.formData){h.method="POST";const w=c.sourceElement instanceof HTMLFormElement?c.sourceElement:c.sourceElement instanceof HTMLElement&&"form"in c.sourceElement?c.sourceElement.form:c.sourceElement?.closest("form");h.body=w?.attributes.getNamedItem("enctype")?.value==="application/x-www-form-urlencoded"?new URLSearchParams(c.formData):c.formData}const f=await H(y,h);if(f===null){c.preventDefault();return}if(f.redirected){const w=new URL(f.redirected);if(w.origin!==c.to.origin){c.preventDefault();return}c.to=w}if(I??=new DOMParser,c.newDocument=I.parseFromString(f.html,f.mediaType),c.newDocument.querySelectorAll("noscript").forEach(w=>w.remove()),!c.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!c.formData){c.preventDefault();return}const T=$(c.newDocument);T.length&&!c.signal.aborted&&await Promise.all(T)}async function u(){if(p&&p.viewTransition){try{p.viewTransition.skipTransition()}catch{}try{await p.viewTransition.updateCallbackDone}catch{}}return p={transitionSkipped:!1}}const d=await u();if(i.signal.aborted){r===m&&(m=void 0);return}if(document.documentElement.setAttribute(R,i.direction),q)d.viewTransition=document.startViewTransition(async()=>await P(i,o,d,s));else{const c=(async()=>{await Promise.resolve(),await P(i,o,d,s,F())})();d.viewTransition={updateCallbackDone:c,ready:c,finished:new Promise(y=>d.viewTransitionFinished=y),skipTransition:()=>{d.transitionSkipped=!0,document.documentElement.removeAttribute(A)}}}d.viewTransition?.updateCallbackDone.finally(async()=>{await _(),O(),B()}),d.viewTransition?.finished.finally(()=>{d.viewTransition=void 0,d===p&&(p=void 0),r===m&&(m=void 0),document.documentElement.removeAttribute(R),document.documentElement.removeAttribute(A)});try{await d.viewTransition?.updateCallbackDone}catch(c){const y=c;console.log("[astro]",y.name,y.message,y.stack)}}function U(e){if(!x()&&e.state){location.reload();return}if(e.state===null)return;const t=history.state,n=t.index,o=n>g?"forward":"back";g=n,j(o,L,new URL(location.href),{},t)}const D=()=>{history.state&&(scrollX!==history.state.scrollX||scrollY!==history.state.scrollY)&&S({scrollX,scrollY})};{if(q||F()!=="none")if(L=new URL(location.href),addEventListener("popstate",U),addEventListener("load",O),"onscrollend"in window)addEventListener("scrollend",D);else{let e,t,n,o;const s=()=>{if(o!==history.state?.index){clearInterval(e),e=void 0;return}if(t===scrollY&&n===scrollX){clearInterval(e),e=void 0,D();return}else t=scrollY,n=scrollX};addEventListener("scroll",()=>{e===void 0&&(o=history.state?.index,t=scrollY,n=scrollX,e=window.setInterval(s,50))},{passive:!0})}for(const e of document.getElementsByTagName("script"))e.dataset.astroExec=""}const b="data-astro-transition-persist";function V(e){for(const t of document.scripts)for(const n of e.scripts)if(!n.hasAttribute("data-astro-rerun")&&(!t.src&&t.textContent===n.textContent||t.src&&t.type===n.type&&t.src===n.src)){n.dataset.astroExec="";break}}function K(e){const t=document.documentElement,n=[...t.attributes].filter(({name:o})=>(t.removeAttribute(o),o.startsWith("data-astro-")));[...e.documentElement.attributes,...n].forEach(({name:o,value:s})=>t.setAttribute(o,s))}function z(e){for(const t of Array.from(document.head.children)){const n=Q(t,e);n?n.remove():t.remove()}document.head.append(...e.head.children)}function G(e,t){t.replaceWith(e);for(const n of t.querySelectorAll(`[${b}]`)){const o=n.getAttribute(b),s=e.querySelector(`[${b}="${o}"]`);s&&(s.replaceWith(n),s.localName==="astro-island"&&Z(n)&&!ee(n,s)&&(n.setAttribute("ssr",""),n.setAttribute("props",s.getAttribute("props"))))}}const J=()=>{const e=document.activeElement;if(e?.closest(`[${b}]`)){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){const t=e.selectionStart,n=e.selectionEnd;return()=>E({activeElement:e,start:t,end:n})}return()=>E({activeElement:e})}else return()=>E({activeElement:null})},E=({activeElement:e,start:t,end:n})=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(typeof t=="number"&&(e.selectionStart=t),typeof n=="number"&&(e.selectionEnd=n)))},Q=(e,t)=>{const n=e.getAttribute(b),o=n&&t.head.querySelector(`[${b}="${n}"]`);if(o)return o;if(e.matches("link[rel=stylesheet]")){const s=e.getAttribute("href");return t.head.querySelector(`link[rel=stylesheet][href="${s}"]`)}return null},Z=e=>{const t=e.dataset.astroTransitionPersistProps;return t==null||t==="false"},ee=(e,t)=>e.getAttribute("props")===t.getAttribute("props"),te=e=>{V(e),K(e),z(e);const t=J();G(e.body,document.body),t()},ne="astro:before-preparation",oe="astro:after-preparation",se="astro:before-swap",re="astro:after-swap",ie=e=>document.dispatchEvent(new Event(e));class Y extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;signal;constructor(t,n,o,s,r,a,i,l,u,d){super(t,n),this.from=o,this.to=s,this.direction=r,this.navigationType=a,this.sourceElement=i,this.info=l,this.newDocument=u,this.signal=d,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0},signal:{enumerable:!0}})}}class ce extends Y{formData;loader;constructor(t,n,o,s,r,a,i,l,u,d){super(ne,{cancelable:!0},t,n,o,s,r,a,i,l),this.formData=u,this.loader=d.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class ae extends Y{direction;viewTransition;swap;constructor(t,n){super(se,void 0,t.from,t.to,t.direction,t.navigationType,t.sourceElement,t.info,t.newDocument,t.signal),this.direction=t.direction,this.viewTransition=n,this.swap=()=>te(this.newDocument),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function le(e,t,n,o,s,r,a,i,l){const u=new ce(e,t,n,o,s,r,window.document,a,i,l);return document.dispatchEvent(u)&&(await u.loader(),u.defaultPrevented||(ie(oe),u.navigationType!=="traverse"&&S({scrollX,scrollY}))),u}function ue(e,t){const n=new ae(e,t);return document.dispatchEvent(n),n.swap(),n}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".selected");document.querySelectorAll(".accordion").forEach(r=>{document.querySelector(".selected");let a=r.querySelector(".options");document.querySelector(".option");let i=r.querySelector(".selected-text");a?.querySelectorAll("p").forEach(l=>{l.addEventListener("click",()=>{i?(i.textContent=l.textContent,a.classList.remove("collapse-true"),e.forEach(u=>{u.classList.add("ready")}),s()):console.log("Error en dropdown formulario.")})})}),document.getElementById("switch")?.addEventListener("click",()=>{const r=document.getElementById("switch"),a=document.querySelectorAll(".selected");document.querySelectorAll(".options");let i=document.querySelectorAll(".selected-text");r?.classList.toggle("switch-true"),a.forEach(l=>{l.classList.toggle("disabled"),r?.classList.contains("switch-true")?(r.classList.add("ready"),l.classList.remove("ready"),i.forEach(u=>{u.textContent="No es necesario"})):(r?.classList.remove("ready"),i.forEach(u=>{u.textContent=u.getAttribute("data-texto-original")}))}),s()});const t=document.querySelector(".check"),n=document.getElementById("checkbox-contacto");n?.addEventListener("click",()=>{t&&(t.classList.toggle("false"),n.classList.toggle("fill"),n.classList.toggle("ready")),s()}),document.querySelectorAll(".campo").forEach(r=>{r.addEventListener("input",()=>{const a=r;a.value.trim().length>0?a.classList.add("ready"):a.classList.remove("ready"),s()})});function s(){const r=document.querySelector(".cta-large");document.getElementById("empty");const a=document.querySelectorAll(".campo.ready, .selected.ready, #checkbox-contacto.ready").length,i=document.querySelectorAll(".campo, .selected, #checkbox-contacto").length,l=document.querySelectorAll(".campo.ready, #switch.ready, #checkbox-contacto.ready").length,u=document.querySelectorAll(".campo, #switch, #checkbox-contacto").length;a===i||l===u?r?.classList.remove("disabled"):r?.classList.add("disabled")}});
